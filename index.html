<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Local Save</title>
		<style>
			input{
				font-family: Arial;
				border: 1px, solid, gray;
			}
			p{
				font-family: Arial;
				font-size: 18pt;
			}
		</style>
	</head>

	<body>
		<input type="text" id="textInput"/>
		<input value="Save" type="button" id="save" onclick="save()"/>
		<input value="Remove all" type="button" id="remove" onclick="remove()"/>
		
		<p id="data"></p>
		<script>
		var number = 1
		start()
		function start(){
			while(localStorage.getItem(`save${number}`) != undefined){
				var newElement = `<h3 class="elementSave">${number} - ${localStorage.getItem(`save${number}`)}</h3>`
				document.body.innerHTML += newElement
				number++
			}
			
		}
		function remove(){
			console.log("function remove")
			number = 1
			while(localStorage.getItem(`save${number}`) != undefined){
				localStorage.removeItem(`save${number}`)
				number++
			}
			window.location.reload()
		}
		function save(){
			number = 1
			if (document.getElementById("textInput").value != ""){
				while(localStorage.getItem(`save${number}`) != undefined){
					number++
				}
				if(localStorage.getItem(`save${number}`) == undefined){
					localStorage.setItem(`save${number}`, `${document.getElementById("textInput").value}`)
					document.getElementById("textInput").value = ""
				}
				start()
			} else{
				alert("NÃ£o salvo. Motivo: campo vazio")
			}
		}
			
		</script>
	</body>
</html>
